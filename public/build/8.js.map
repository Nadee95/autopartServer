{"version":3,"sources":["../../src/pages/add-business/add-business.module.ts","../../src/pages/add-business/add-business.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddBusinessPage } from './add-business';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [\n    AddBusinessPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddBusinessPage),\n    ReactiveFormsModule\n  ],\n  entryComponents:[AddBusinessPage]\n})\nexport class AddBusinessPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-business/add-business.module.ts","import { Component, ChangeDetectorRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ViewController, ModalController } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators,FormGroupName, FormArray, FormControl } from '@angular/forms';\nimport { Http } from '@angular/http';\nimport { DataServiceProvider } from '../../providers/data-service/data-service';\nimport {HomePage} from '../home/home';\nimport { HttpEventType } from '@angular/common/http';\n/**\n * Generated class for the AddBusinessPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\ninterface Response{\n  status:number,\n  message?:String,\n  data?:any\n}\n@IonicPage()\n@Component({\n  selector: 'page-add-business',\n  templateUrl: 'add-business.html',\n})\nexport class AddBusinessPage {\n\n  \n  items: string[];\n  contacts: FormArray;\n  businessForm: FormGroup;\n  selectedFile=null;\n  progress=0;\n  constructor(public navCtrl: NavController,public http: Http,public modalCtrl:ModalController, public LoadingCtrl: LoadingController,  public fb:FormBuilder, public dataService:DataServiceProvider, public cd:ChangeDetectorRef) {\n  \t\t\n\n    /*   var  url='./assets/json/customer.json';\n      this.http.get(url).subscribe(data => {\n     this.items= this.customers = data.json();\n            console.log(this.customers);\n        });\n */\nthis.businessForm = fb.group({\n  'bName':['',Validators.required],\n  'owner':['',Validators.required],\n  'address':['',Validators.required],\n  'nearestTown':['',Validators.required],\n  'district':['',Validators.required],\n  contacts: this.fb.array([ this.createContact() ]),\n  'email':['',Validators.required],\n // 'pno':['',Validators.required],\n  'location':fb.group({\n    'lat':['',Validators.required],\n    'lon':['',Validators.required],\n  }),\n});\n    }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddBusinessPage');\n   \n  }\n  createContact(): FormControl {\n    return this.fb.control('');\n  }\n\n  addContact(): void {\n    this.contacts = this.businessForm.get('contacts') as FormArray;\n    this.contacts.push(this.createContact());\n  }\n\n  removeContact(idc:number):void{\n    this.contacts.removeAt(idc);\n  }\n\n  selDistrict(){\n    let districtModal = this.modalCtrl.create('SelectDistrictPage');\n    districtModal.onDidDismiss(data => {\n      if(data){\n       this.businessForm.controls['district'].setValue(data);\n      }\n    });\n    districtModal.present();\n  }\n\n  addBusiness(){\n    if (this.selectedFile != null) {\n      const formData = new FormData();\n      formData.append('bName', this.businessForm.get('bName').value);\n      formData.append('owner', this.businessForm.get('owner').value);\n      formData.append('address', this.businessForm.get('address').value);\n      formData.append('nearestTown', this.businessForm.get('nearestTown').value);\n      formData.append('district', this.businessForm.get('district').value);\n      formData.append('contacts', this.businessForm.get('contacts').value);\n      formData.append('email', this.businessForm.get('email').value);\n      formData.append('location', JSON.stringify(this.businessForm.get('location').value));\n      formData.append('file', this.selectedFile);\n      console.log(formData.get('form'));\n   \n    this.dataService.addBusiness(formData).subscribe(xevent => {\n      let event:any = xevent;\n      if (event.type === HttpEventType.UploadProgress) {\n        this.progress = Math.round(event.loaded / event.total * 100);\n      } else if (event.type === HttpEventType.Response) {\n        if (event.status === 200) {\n         console.log(\"success\");\n        }\n      }\n      console.log(event);\n    }); }\n   /* this.dataService.addBusiness(this.businessForm.value).subscribe(data=>{\n      let d:Response = <Response>data;\n      console.log(d);\n    });*/\n  }\n\n  /* onUpload() {\n    if (this.selectedFile != null) {\n      const formData = new FormData();\n      formData.append('name', this.myForm.value.name);\n      formData.append('card', this.myForm.value.card);\n      formData.append('sno', this.myForm.value.sno);\n      formData.append('tpno', this.myForm.value.tpno);\n      formData.append('email', this.myForm.value.email);\n      formData.append('password', this.myForm.value.password);\n      formData.append('image', this.selectedFile);\n      this.dataService.create(formData).subscribe(event => {\n        if (event.type === HttpEventType.UploadProgress) {\n          this.progress = Math.round(event.loaded / event.total * 100);\n        } else if (event.type === HttpEventType.Response) {\n          if (event.status === 200) {\n            this.visibleTab = 200;\n          }\n        }\n        console.log(event);\n      });\n    }\n  } */\n\n  onFileChange(event) {\n    const reader = new FileReader();\n \n    if(event.target.files && event.target.files.length) {\n      const file = event.target.files[0];\n      reader.readAsDataURL(file);\n      console.log(reader);\n      reader.onload = () => {\n        this.businessForm.patchValue({\n          file: reader.result\n       });\n      \n        // need to run CD since file load runs outside of zone\n        this.cd.markForCheck();\n      };\n    }\n  }\n\n  onFileSelected(event) {\n    // console.log(event.target.files[0]);\n    this.selectedFile = event.target.files[0];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-business/add-business.ts"],"sourceRoot":""}